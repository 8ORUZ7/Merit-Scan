/* =========================================================
   MERIT SCAN ADMIN DASHBOARD STYLES (Refactored)
   ========================================================= */

/* ------------------ Root Tokens & Theming ------------------ */
:root {
  --color-primary:#1abc9c;
  --color-primary-hover:#159a80;
  --color-primary-fade:#e1f7f4;
  --color-secondary:#3498db;
  --color-secondary-hover:#2d82bb;
  --color-danger:#e74c3c;
  --color-danger-hover:#c0392b;
  --color-warning:#f39c12;
  --color-warning-fg:#7a4f04;
  --color-success:#2ecc71;
  --color-success-fg:#0f6a48;
  --color-info:#2980b9;
  --color-info-hover:#216897;
  --color-focus-ring:rgba(26,188,156,.45);
  --surface:#ffffff;
  --surface-alt:#f4f7fa;
  --surface-raised:#ffffff;
  --surface-inset:#f9fbfc;
  --surface-accent:#f5fffd;
  --text-color:#222d32;
  --text-soft:#5b6a72;
  --text-faint:#8a96a0;
  --border-color:#d5dde1;
  --border-strong:#b8c4ca;
  --shadow-1:0 2px 6px rgba(0,0,0,0.06);
  --shadow-2:0 4px 14px rgba(0,0,0,0.10);
  --shadow-focus:0 0 0 3px var(--color-focus-ring);
  --radius-xs:3px;
  --radius-sm:4px;
  --radius-md:6px;
  --radius-lg:10px;
  --radius-pill:999px;
  --font-family:'Lucida Sans','Lucida Grande','Lucida Sans Unicode',Verdana,sans-serif;
  --fs-xs:.70rem;
  --fs-sm:.78rem;
  --fs-base:.9rem;
  --fs-md:1rem;
  --fs-lg:1.15rem;
  --fs-xl:1.4rem;
  --fw-semibold:600;
  --fw-bold:700;
  --transition-fast:.17s cubic-bezier(.4,.6,.3,1);
  --transition-med:.3s cubic-bezier(.4,.6,.3,1);
  --transition-slow:.55s cubic-bezier(.4,.6,.3,1);
  --sidebar-width:240px;
  --sidebar-collapsed:60px;
  --z-sidebar:40;
  --z-modal:1000;
  --z-toast:1600;
  --z-focus:2000;
  --chart-bar:#1abc9c;
  --chart-bar-alt:#3498db;
}
:root[data-theme="dark"] {
  --surface:#1e262b;
  --surface-alt:#161d21;
  --surface-raised:#222d32;
  --surface-inset:#262f35;
  --surface-accent:#213a37;
  --text-color:#e9f1f4;
  --text-soft:#b5c2c9;
  --text-faint:#88959c;
  --border-color:#39444b;
  --border-strong:#4c5960;
  --color-primary:#18b294;
  --color-primary-hover:#12937a;
  --color-primary-fade:#183c37;
  --color-secondary:#2d82bb;
  --color-secondary-hover:#226897;
  --color-danger:#e16555;
  --color-danger-hover:#c74a3a;
  --color-warning:#e8ac32;
  --color-success:#27b864;
  --color-info:#2776b0;
  --shadow-1:0 2px 6px rgba(0,0,0,0.55);
  --shadow-2:0 4px 18px rgba(0,0,0,0.65);
  --color-focus-ring:rgba(52,152,219,.55);
}
body.hc-mode {
  --border-color:#000;
  --border-strong:#000;
  --color-focus-ring:rgba(0,0,0,.9);
  --shadow-1:none; --shadow-2:none;
}

/* ------------------ Base ------------------ */
* { box-sizing:border-box; }
html { -webkit-text-size-adjust:100%; }
body {
  margin:0;
  font-family:var(--font-family);
  background:var(--surface-alt);
  color:var(--text-color);
  -webkit-font-smoothing:antialiased;
  line-height:1.4;
}
body.no-js .no-js-hide { display:none !important; }
img { max-width:100%; display:block; }
:focus-visible {
  outline:none;
  box-shadow:var(--shadow-focus);
  border-radius:var(--radius-sm);
}

/* Skip Link */
.skip-link {
  position:absolute;
  top:-100px; left:16px;
  background:var(--color-primary);
  color:#fff;
  padding:8px 16px;
  z-index:var(--z-focus);
  border-radius:var(--radius-md);
  text-decoration:none;
  font-size:var(--fs-sm);
  font-weight:var(--fw-semibold);
}
.skip-link:focus { top:16px; }
.d-none { display:none !important; }

/* Layout shell */
.app-container { display:flex; min-height:100vh; position:relative; overflow:hidden; }

/* ------------------ Sidebar ------------------ */
.sidebar {
  background:linear-gradient(180deg,#222d32,#1a2429);
  color:#fff;
  width:var(--sidebar-width);
  min-width:var(--sidebar-width);
  transition:width var(--transition-med), transform var(--transition-med);
  display:flex;
  flex-direction:column;
  position:relative;
  z-index:var(--z-sidebar);
  box-shadow:var(--shadow-1);
  will-change:transform;
}
.sidebar-header {
  display:flex; align-items:center; justify-content:space-between;
  background:#1a2226; padding:14px 14px 14px 16px;
  border-bottom:1px solid rgba(255,255,255,.06);
}
.sidebar-title { font-size:1.15rem; font-weight:var(--fw-bold); letter-spacing:.5px; margin:0 auto; white-space:nowrap; }
.sidebar-profile {
  display:flex; align-items:center; padding:18px 16px; border-bottom:1px solid rgba(255,255,255,.08); gap:12px;
}
.profile-img {
  width:48px; height:48px; border-radius:50%; overflow:hidden; flex-shrink:0;
  border:2px solid var(--color-success); background:#22363a; display:flex; align-items:center; justify-content:center;
}
.profile-img img { width:100%; height:100%; object-fit:cover; }
.profile-details { display:flex; flex-direction:column; min-width:0; }
.profile-name { font-weight:var(--fw-semibold); font-size:.9rem; line-height:1.2; text-overflow:ellipsis; overflow:hidden; white-space:nowrap; max-width:140px; }
.profile-status { font-size:.65rem; letter-spacing:.5px; text-transform:uppercase; margin-top:4px; font-weight:var(--fw-semibold); }
.profile-status.online { color:var(--color-success); }
.profile-status.offline { color:var(--color-danger); }

.sidebar-menu {
  list-style:none; margin:0; padding:8px 0 40px; flex:1 1 auto; overflow-y:auto;
  scrollbar-width:thin; scrollbar-color:#3a454c transparent;
}
.sidebar-menu::-webkit-scrollbar { width:8px; }
.sidebar-menu::-webkit-scrollbar-thumb { background:#3a454c; border-radius:20px; }
.sidebar-section {
  text-align:center; color:#aeb7be; font-size:.63rem; font-weight:var(--fw-bold);
  letter-spacing:1.6px; margin:16px 0 10px; text-transform:uppercase; opacity:.85; padding:0 8px;
}
.sidebar-menu a {
  display:flex; align-items:center; gap:10px; color:#c3ced5; text-decoration:none;
  padding:11px 14px 11px 40px; font-size:.85rem; border-left:4px solid transparent;
  transition:background var(--transition-fast), color var(--transition-fast), padding var(--transition-med);
  position:relative; font-weight:500; letter-spacing:.3px; min-height:42px;
}
.sidebar-menu a:hover,
.sidebar-menu a.active {
  background:linear-gradient(90deg, rgba(26,188,156,.20), rgba(26,188,156,.05));
  color:#fff; border-left-color:var(--color-primary);
}
.sidebar-menu a.active::after {
  content:""; position:absolute; right:0; top:10%; height:80%; width:3px;
  background:#fff; border-radius:2px 0 0 2px; box-shadow:0 0 0 1px rgba(255,255,255,.28); opacity:.85;
}
.sidebar-menu a:focus-visible { outline:none; box-shadow:0 0 0 2px rgba(255,255,255,.5) inset, var(--shadow-focus); }
.sidebar-footer { padding:10px 14px; margin-top:auto; border-top:1px solid rgba(255,255,255,.08); }

@media (max-width:900px){
  .sidebar { position:fixed; left:0; top:0; bottom:0; width:220px; min-width:220px; transform:translateX(-100%); }
}

/* Floating toggle button */
.nav-fab{
  position:fixed;
  top:10px;
  left:10px;
  width:48px;
  height:48px;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  gap:5px;
  background:linear-gradient(140deg,#283035,#1f272c);
  color:#fff;
  border:1px solid rgba(255,255,255,.12);
  border-radius:14px;
  box-shadow:0 6px 18px rgba(0,0,0,.25),0 2px 6px rgba(0,0,0,.18);
  cursor:pointer;
  z-index:1200;
  padding:0;
  transition:background .25s, box-shadow .25s, transform .25s;
}
.nav-fab:hover,
.nav-fab:focus-visible{
  background:linear-gradient(140deg,#324048,#283238);
  box-shadow:0 8px 26px rgba(0,0,0,.35),0 3px 10px rgba(0,0,0,.25);
}
.nav-fab:active{ transform:translateY(2px); }
.nav-fab__icon{
  display:flex;
  flex-direction:column;
  gap:6px;
  width:22px;
}
.nav-fab__icon .bar{
  height:3px;
  width:100%;
  background:#fff;
  border-radius:3px;
  transition:transform .35s cubic-bezier(.6,.1,.3,1), opacity .25s;
  transform-origin:center;
}
body:not(.sidebar-hidden) .nav-fab__icon .bar:nth-child(1){ transform:translateY(9px) rotate(45deg); }
body:not(.sidebar-hidden) .nav-fab__icon .bar:nth-child(2){ opacity:0; transform:scaleX(.3); }
body:not(.sidebar-hidden) .nav-fab__icon .bar:nth-child(3){ transform:translateY(-9px) rotate(-45deg); }

/* Off-canvas mechanics */
body.sidebar-hidden .sidebar{
  transform:translateX(-100%);
  position:fixed;
  left:0; top:0; bottom:0;
}


body.sidebar-hidden:not(.sidebar-overlay) .main-content{ margin-left:0; }
@media (min-width:901px){
  body:not(.sidebar-hidden) .main-content{
    transition:margin-left .35s cubic-bezier(.65,.05,.36,1);
  }
}
@media (max-width:900px){
  body.sidebar-overlay::after{
    content:"";
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.45);
    backdrop-filter:blur(2px);
    z-index:1100;
    animation:fadeInOverlay .3s ease;
  }
  @keyframes fadeInOverlay{
    from{ opacity:0; }
    to{ opacity:1; }
  }
  .nav-fab{ z-index:1500; }
}

body:not(.sidebar-hidden) .sidebar{
  animation:sidebarSlideIn .45s cubic-bezier(.45,1.3,.55,1);
}
@keyframes sidebarSlideIn{
  0%{ transform:translateX(-100%); }
  100%{ transform:translateX(0); }
}
.nav-fab:focus-visible{
  outline:none;
  box-shadow:0 0 0 3px rgba(255,255,255,.4),0 0 0 6px var(--color-primary);
}
:root[data-theme="dark"] .nav-fab{
  background:linear-gradient(140deg,#2b353b,#22292e);
  border-color:rgba(255,255,255,.08);
}
:root[data-theme="dark"] .nav-fab:hover{
  background:linear-gradient(140deg,#364249,#2a3237);
}

/* ------------------ Main Content & Header ------------------ */
.main-content {
  flex:1;
  background:var(--surface-alt);
  display:block;
  min-width:0;
  position:relative;
  outline:none;
  padding-bottom:40px;
}
.main-header {
  background:var(--surface);
  border-bottom:1px solid var(--border-color);
  padding:14px 28px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:16px;
  position:sticky;
  top:0;
  z-index:10;
}
/* Base header layout (no margin when sidebar hidden) */
.header-left {
  display:flex;
  flex-direction:column;
  gap:6px;
  margin-left: 50px;
}

/* Add left margin ONLY when sidebar is visible (i.e. not hidden) */
body:not(.sidebar-hidden) .header-left {
  margin-left: 0px;
}
.main-project { font-size:var(--fs-lg); font-weight:var(--fw-bold); letter-spacing:.2px; }
.breadcrumb-nav { font-size:.65rem; letter-spacing:.5px; }
.breadcrumb-list {
  margin:0; padding:0; list-style:none; display:flex; gap:8px; color:var(--text-soft);
}
.breadcrumb-list a { color:var(--color-secondary); text-decoration:none; font-weight:var(--fw-semibold); }
.breadcrumb-list a:hover { text-decoration:underline; }
.breadcrumb-list li[aria-current="page"] { color:var(--text-color); font-weight:var(--fw-semibold); }
.sidebar-footer {
  padding:12px 16px;
  text-align:center;            /* centers inline elements */
}
#themeToggle {
  display:flex;
  justify-content:center;
  align-items:center;
  width:160px;                  /* choose any width */
  margin:0 auto;
}
.section-panel { padding:28px 32px; animation:fadeIn .4s ease; }
.section-title { margin:0 0 18px; font-size:1.3rem; font-weight:var(--fw-bold); letter-spacing:.5px; }
@keyframes fadeIn { from { opacity:0; transform:translateY(10px); } to { opacity:1; transform:translateY(0); } }
.nopads { padding:0; padding-right: 20px;}
.blkwhtToggle{ margin-right: 20px;}
/* ------------------ Buttons ------------------ */
.btn {
  --btn-bg:var(--color-primary);
  --btn-bg-hover:var(--color-primary-hover);
  --btn-color:#fff;
  background:var(--btn-bg);
  color:var(--btn-color);
  border:none;
  padding:10px 18px;
  font-size:.8rem;
  font-weight:var(--fw-semibold);
  border-radius:var(--radius-md);
  letter-spacing:.4px;
  cursor:pointer;
  display:inline-flex;
  align-items:center;
  gap:.45em;
  line-height:1.1;
  transition:background var(--transition-fast), box-shadow var(--transition-fast), transform .15s;
  position:relative;
}
.btn:hover,
.btn:focus-visible { background:var(--btn-bg-hover); }
.btn:active { transform:translateY(1px); }
.btn.small { padding:7px 14px; font-size:.7rem; }
.btn.tiny { padding:5px 11px; font-size:.63rem; }
.btn.pill { border-radius:var(--radius-pill); }
.btn.secondary { --btn-bg:var(--color-secondary); --btn-bg-hover:var(--color-secondary-hover); }
.btn.danger { --btn-bg:var(--color-danger); --btn-bg-hover:var(--color-danger-hover); }
.btn.neutral { --btn-bg:#607d8b; --btn-bg-hover:#4d6773; }
.btn.ghost {
  --btn-bg:var(--surface-inset);
  --btn-bg-hover:var(--surface-accent);
  --btn-color:var(--text-color);
  border:1px solid var(--border-color);
  box-shadow:none;
}
.btn[disabled], .btn:disabled { opacity:.55; cursor:not-allowed; pointer-events:none; }
.spin-once { animation:spin .6s linear; }
@keyframes spin { to { transform:rotate(360deg); } }

/* WIN TILES FLEX (guide-based: 4 -> 2 -> 1) */
.win-tiles {
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:10px;
  margin-top:8px;
 
}

.win-tiles .btn-tile {
  flex:1 1 23%;              /* ~4 per row */
  padding:0;
  padding-bottom:23%;        /* square ratio */
  min-width:100px;
  max-width:240px;
  position:relative;
  border-radius:14px;
  display:flex;
  align-items:center;
  justify-content:center;
  background:var(--surface-inset);
  color:var(--text-color);
  border:1px solid var(--border-color);
  font-size:.68rem;
  font-weight:600;
  letter-spacing:.4px;
  box-shadow:0 2px 4px rgba(0,0,0,.08);
  overflow:hidden;
  transition:background .18s, transform .2s, box-shadow .2s;
}

.win-tiles .btn-tile.primary {
  background:var(--color-primary);
  color:#fff;
  border:1px solid var(--color-primary-hover);
}

.win-tiles .btn-tile .btn-tile-label {
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:10px;
  text-align:center;
  line-height:1.2;
}

.win-tiles .btn-tile:hover,
.win-tiles .btn-tile:focus-visible {
  transform:translateY(-4px);
  box-shadow:0 6px 14px rgba(0,0,0,.16);
}

.win-tiles .btn-tile:active {
  transform:translateY(-1px);
  box-shadow:0 3px 8px rgba(0,0,0,.18);
}

@media (max-width:768px){
  .win-tiles .btn-tile {
    flex-basis:48%;
    padding-bottom:48%;      /* two per row */
  }
}

@media (max-width:480px){
  .win-tiles .btn-tile {
    flex-basis:98%;
    padding-bottom:98%;      /* single column */
    max-width:340px;
  }
}

/* KPI refinements */
.kpi-card .kpi-head { display:flex; justify-content:space-between; width:100%; align-items:center; }
.kpi-refresh { position:absolute; top:8px; right:8px; opacity:0; transition:opacity .25s; }
.kpi-card:hover .kpi-refresh { opacity:1; }
.status-online { background:var(--color-success)!important; }
.status-offline { background:var(--color-danger)!important; }
.kpi-dot { width:10px; height:10px; border-radius:50%; box-shadow:0 0 0 2px var(--surface); }
.dot-success { background:var(--color-success); }
.dot-danger { background:var(--color-danger); }
.dot-warning { background:var(--color-warning); }

/* ------------------ Cards ------------------ */
.dashboard-cards { display:flex; flex-wrap:wrap; gap:20px; margin:20px 0 8px; }
.dashboard-card {
  background:var(--surface);
  border:1px solid var(--border-color);
  border-radius:var(--radius-lg);
  padding:18px 20px 16px;
  flex:1 1 200px;
  min-width:190px;
  position:relative;
  box-shadow:var(--shadow-1);
  transition:box-shadow var(--transition-fast), transform var(--transition-fast);
  display:flex;
  flex-direction:column;
  gap:4px;
}
.dashboard-card:hover { transform:translateY(-4px); box-shadow:var(--shadow-2); }
.dashboard-card::before {
  content:""; position:absolute; top:0; left:0; right:0; height:4px; border-radius:4px 4px 0 0;
  background:linear-gradient(90deg,var(--color-primary),var(--color-secondary));
}
.card-title {
  font-size:.75rem; font-weight:var(--fw-bold); letter-spacing:1px; text-transform:uppercase; opacity:.85;
}
.card-count { font-size:2rem; line-height:1; font-weight:var(--fw-bold); margin-top:4px; }
.card-info { font-size:.6rem; letter-spacing:1px; text-transform:uppercase; opacity:.55; margin-top:2px; }

/* ------------------ Chart Card ------------------ */
.dashboard-charts { display:flex; flex-wrap:wrap; gap:20px; margin-top:26px; }
.chart-card {
  background:var(--surface);
  border:1px solid var(--border-color);
  border-radius:var(--radius-lg);
  padding:18px 22px 26px;
  flex:1 1 300px;
  min-width:280px;
  box-shadow:var(--shadow-1);
  position:relative;
}
.chart-title {
  font-size:.76rem; font-weight:var(--fw-bold); letter-spacing:.9px; text-transform:uppercase; display:block; margin-bottom:10px;
}

/* ------------------ Tables ------------------ */
.retrieval-table,
.logs-table,
#studentsTable,
#awardsTable,
.rank-table,
#sideRankTable {
  width:100%; border-collapse:separate; border-spacing:0; background:var(--surface);
  font-size:.78rem; color:var(--text-color); border:1px solid var(--border-color);
  border-radius:var(--radius-lg); box-shadow:var(--shadow-1); overflow:hidden;
  text-align: center;
}
.retrieval-table thead tr,
.logs-table thead tr,
#studentsTable thead tr,
#awardsTable thead tr,
.rank-table thead tr,
#sideRankTable thead tr {
  background:var(--color-primary-fade);
  font-weight:var(--fw-semibold);
  letter-spacing:.4px;
  font-size:.68rem;
  text-transform:uppercase;
  color:var(--text-color);
}
.retrieval-table th, .retrieval-table td,
.logs-table th, .logs-table td,
#studentsTable th, #studentsTable td,
#awardsTable th, #awardsTable td,
.rank-table th, .rank-table td,
#sideRankTable th, #sideRankTable td {
  padding:10px 14px;
  border-bottom:1px solid #e7eef1;
  vertical-align:middle;
  line-height:1.25;
}
.retrieval-table tr:last-child td,
.logs-table tr:last-child td,
#studentsTable tr:last-child td,
#awardsTable tr:last-child td,
.rank-table tr:last-child td,
#sideRankTable tr:last-child td { border-bottom:none; }
.retrieval-table tbody tr:hover,
.logs-table tbody tr:hover,
#studentsTable tbody tr:hover,
#awardsTable tbody tr:hover,
.rank-table tbody tr:hover,
#sideRankTable tbody tr:hover {
  background:var(--surface-inset);
  cursor:pointer;
  transition:background var(--transition-fast);
}
#studentsTable tbody td:nth-child(3),
#studentsTable tbody td:nth-child(4),
#studentsTable tbody td:nth-child(5) {
  color:var(--text-soft);
  font-size:.7rem;
}
.table-responsive { width:100%; overflow:auto; }
@keyframes rowFlash { 0% { background:#fff6cc; } 60% { background:#fff6cc; } 100% { background:inherit; } }
.retrieval-table tbody tr.row-updated,
.logs-table tbody tr.row-updated,
#studentsTable tbody tr.row-updated,
#awardsTable tbody tr.row-updated { animation:rowFlash 2.2s ease forwards; }
.empty-hint {
  margin-top:18px; font-size:.8rem; color:var(--text-soft);
  background:var(--surface); border:1px dashed var(--border-color);
  padding:12px 14px; border-radius:var(--radius-md);
}

/* ------------------ Forms & Inputs ------------------ */
.form-label {
  font-size:.65rem; font-weight:var(--fw-semibold); letter-spacing:.5px;
  text-transform:uppercase; display:block; margin-bottom:6px; color:var(--text-soft);
}
.form-control {
  width:100%; padding:10px 14px; border:1px solid var(--border-color);
  border-radius:var(--radius-md); background:var(--surface);
  font-size:.75rem; color:var(--text-color);
  transition:border-color var(--transition-fast), box-shadow var(--transition-fast), background var(--transition-fast);
}
button, #exportLogsBtn, .btn.small.secondary {
    margin-left: 10px;
}
#logsDate, .form-control.slim{
    width: 115px;
}
.form-control.slim { padding:7px 10px; font-size:.7rem; }
.form-control:focus {
  border-color:var(--color-secondary);
  box-shadow:0 0 0 2px rgba(52,152,219,.25);
  outline:none; background:var(--surface-raised);
}
.form-check { display:flex; gap:8px; align-items:center; font-size:.72rem; cursor:pointer; }
.form-check input { cursor:pointer; }
.mini-select {
  padding:8px 6px; border-radius:var(--radius-md); border:1px solid var(--border-color);
  background:var(--surface); font-size:.65rem; min-width:70px; cursor:pointer;
}
.mini-select:focus { outline:none; border-color:var(--color-secondary); box-shadow:0 0 0 2px rgba(52,152,219,.25); }
.form-row { margin-bottom:14px; display:flex; flex-direction:column; gap:6px; }
.row-actions { flex-wrap:wrap; gap:10px; }

/* ------------------ QR & Scanning ------------------ */
.generate-wrapper { display:flex; flex-wrap:wrap; gap:30px; margin-top:12px; }
.generate-left,
.generate-right {
  background:var(--surface); flex:1 1 420px; min-width:320px;
  padding:22px 26px 30px; border-radius:var(--radius-lg);
  border:1px solid var(--border-color); box-shadow:var(--shadow-1);
  position:relative; display:flex; flex-direction:column; gap:8px;
}
.generate-left h3,
.generate-right h3 { margin:0 0 8px; font-size:.9rem; font-weight:var(--fw-bold); letter-spacing:.4px; }
.qr-input-row { display:flex; gap:10px; flex-wrap:nowrap; }
.qr-result {
  margin-top:10px; border:1.5px dashed var(--color-primary); background:var(--surface-accent);
  padding:14px 14px 18px; border-radius:var(--radius-lg); min-height:300px; display:flex; flex-direction:column;
}
#qrCodeCanvasWrapper { display:flex; justify-content:center; align-items:center; min-height:210px; }
#qrRenderedCanvas {
  image-rendering:pixelated; background:#fff; border:1px solid var(--color-primary);
  border-radius:var(--radius-md); max-width:100%;
}

#sideRankDropdown{
    max-width: 350px;
    width: 100%;
}
#qrImageFile{
  max-width: 520px;
  width: 100%;
}
.qr-meta {
  font-size:.63rem; line-height:1.4; margin:8px 0 6px;
  font-family:monospace; word-break:break-all;
}
.code-pill {
  display:inline-block; background:var(--surface-inset); padding:4px 8px;
  font-family:"Courier New",monospace; border-radius:var(--radius-sm);
  font-size:.6rem; letter-spacing:.5px; margin-left:4px; color:var(--text-color);
}
.code-pill.strong { background:var(--color-primary); color:#fff; }
.qr-actions { display:flex; flex-wrap:wrap; gap:8px; justify-content:center; margin-top:auto; }
.qr-generated-list { margin-top:24px; }
.qr-generated-list h4 {
  margin:0 0 6px; font-size:.75rem; letter-spacing:.6px; text-transform:uppercase; font-weight:var(--fw-semibold);
}
.code-list {
  list-style:none; margin:0; padding:0; max-height:170px; overflow-y:auto;
  background:var(--surface-inset); border:1px solid var(--border-color);
  border-radius:var(--radius-md); font-family:"Courier New",monospace; font-size:.6rem;
}
.code-list li { padding:6px 8px; border-bottom:1px solid var(--border-color); letter-spacing:.6px; }
.code-list li:last-child { border-bottom:none; }
.qr-reader-box {
  width:100%; min-height:250px; background:var(--surface-inset);
  border:2px dashed var(--color-secondary); border-radius:var(--radius-lg);
  display:flex; align-items:center; justify-content:center; position:relative;
}
.scan-controls { display:flex; gap:10px; flex-wrap:wrap; margin-top:12px; }
.scan-status { margin-top:12px; display:flex; flex-direction:column; gap:6px; font-size:.68rem; }
.badge {
  display:inline-block; padding:4px 10px; border-radius:var(--radius-pill);
  font-size:.55rem; font-weight:var(--fw-bold); letter-spacing:.6px;
  text-transform:uppercase; background:var(--surface-inset); color:var(--text-color);
}
.badge-idle { background:#eceff3; color:#444; }
:root[data-theme="dark"] .badge-idle { background:#303a40; color:#cfd9de; }
.badge-active { background:var(--color-info); color:#fff; }
.badge-success { background:var(--color-success); color:#fff; }
.badge-error { background:var(--color-danger); color:#fff; }
.badge-registered { background:var(--color-success); color:#fff; }
.badge-unregistered { background:var(--color-warning); color:#fff; }
.manual-check-row { display:flex; gap:8px; margin-top:6px; }
.code-inline {
  font-family:"Courier New",monospace; background:var(--surface-inset);
  padding:2px 6px; border-radius:var(--radius-sm); font-size:.55rem;
}
/* Center text inside the QR action buttons */
.form-row.row-actions > .btn {
  display:flex;              /* ensure flex, overrides inline-flex if needed */
  justify-content:center;
  align-items:center;
  text-align:center;          /* helps if text wraps */
  padding-left:0;             /* OPTIONAL: remove asymmetric padding */
  padding-right:0;            /* OPTIONAL */
}

/* If you still want some horizontal space, use equal padding */
.form-row.row-actions > .btn {
  padding:10px 16px;
}

dd {
    display: block;
    unicode-bidi: isolate;
    margin-left: 0px;
}
/* ------------------ Account Settings Panels ------------------ */
.account-settings-list {
  display:flex; flex-direction:column; gap:10px; max-width:1200px; margin-top:14px;
}
.account-settings-item {
  background:#0f6352; color:#fff; border:none; text-align:left;
  padding:16px 28px; font-size:.82rem; font-weight:var(--fw-semibold);
  border-radius:var(--radius-lg); cursor:pointer; display:flex; align-items:center;
  justify-content:space-between; letter-spacing:.4px;
  transition:background var(--transition-fast), box-shadow var(--transition-fast);
}
.account-settings-item:hover { background:#108c74; box-shadow:var(--shadow-2); }
.account-option-modal {
  display:none; background:var(--surface); border:1px solid var(--border-color);
  border-radius:var(--radius-lg); padding:18px 22px 22px;
  box-shadow:var(--shadow-1); font-size:.75rem; animation:fadeIn .35s ease;
}
.account-option-modal form label {
  font-size:.62rem; font-weight:var(--fw-semibold); letter-spacing:.5px;
  text-transform:uppercase; display:block; margin:0 0 4px 2px; color:var(--text-soft);
}
.account-option-modal input {
  width:100%; padding:10px 12px; border:1px solid var(--border-color);
  border-radius:var(--radius-md); background:var(--surface-inset); font-size:.7rem;
  transition:border-color var(--transition-fast), background var(--transition-fast), box-shadow var(--transition-fast);
}
.account-option-modal input:focus {
  border-color:var(--color-secondary); background:var(--surface);
  box-shadow:0 0 0 2px rgba(52,152,219,.25);
}
.ms-acc-caret {
  width:10px; height:10px; border-right:3px solid #fff; border-bottom:3px solid #fff;
  transform:rotate(45deg); transition:transform var(--transition-med); flex-shrink:0;
}
.account-option-modal[style*="block"] ~ .ms-acc-caret,
.account-settings-item.active .ms-acc-caret { transform:rotate(225deg); }

/* ------------------ Modal & Panel Skins ------------------ */
.modal {
  display:none; position:fixed; inset:0; z-index:var(--z-modal);
  background:rgba(22,30,38,0.45); backdrop-filter:blur(3px);
  overflow:auto; padding:40px 14px 50px; animation:fadeIn .25s ease;
}
:root[data-theme="dark"] .modal { background:rgba(10,14,18,0.65); }
.modal-content {
  background:var(--surface); margin:0 auto; padding:32px 26px 26px; border-radius:14px;
  max-width:440px; width:100%; position:relative;
  box-shadow:0 8px 32px rgba(0,0,0,.28), 0 2px 14px rgba(0,0,0,.15);
  animation:modalPop .3s cubic-bezier(.45,1.3,.55,1); border:1px solid var(--border-color);
}
@keyframes modalPop {
  0% { transform:translateY(24px) scale(.95); opacity:0; }
 100% { transform:translateY(0) scale(1); opacity:1; }
}
.modal-content .close {
  position:absolute; top:12px; right:16px;
  font-size:1.6em; color:var(--text-soft); background:transparent; border:none;
  cursor:pointer; line-height:1; padding:2px 4px; border-radius:var(--radius-sm);
  transition:background var(--transition-fast), color var(--transition-fast);
}
.modal-content .close:hover,
.modal-content .close:focus-visible {
  background:var(--surface-inset); color:var(--text-color);
}
.ms-modal-skin { --ms-modal-shadow:0 10px 38px -8px rgba(0,0,0,.25),0 4px 18px rgba(0,0,0,.10); box-shadow:var(--ms-modal-shadow); font-size:.78rem; line-height:1.4; }
.ms-modal-title { margin-top:0; margin-bottom:18px; font-size:1.3rem; font-weight:var(--fw-bold); letter-spacing:.4px; }
.ms-modal-grid { display:block; max-height:70vh; overflow-y:auto; padding-right:4px; scrollbar-width:thin; }
.ms-modal-grid::-webkit-scrollbar { width:10px; }
.ms-modal-grid::-webkit-scrollbar-thumb { background:#c0ccd2; border-radius:14px; }
.ms-field { display:flex; flex-direction:column; margin:0 0 16px; }
.ms-field:last-child { margin-bottom:0; }
.ms-field label {
  font-size:.62rem; font-weight:var(--fw-semibold); text-transform:uppercase;
  letter-spacing:.5px; margin:0 0 6px 2px; color:var(--text-soft);
}
.ms-input {
  width:100%; padding:10px 14px; background:var(--surface-inset);
  border:1px solid var(--border-color); border-radius:var(--radius-md);
  font-size:.75rem; transition:border-color var(--transition-fast), background var(--transition-fast), box-shadow var(--transition-fast);
}
.ms-input:focus {
  border-color:var(--color-secondary); background:var(--surface);
  box-shadow:0 0 0 3px rgba(52,152,219,.25); outline:none;
}
.ms-help { font-size:.58rem; color:var(--text-faint); display:inline-block; margin-top:4px; }
.ms-actions { display:flex; gap:10px; flex-wrap:wrap; margin-top:8px; }
.ms-btn {
  --btn-bg:var(--color-primary); --btn-bg-hover:var(--color-primary-hover); --btn-color:#fff;
  background:var(--btn-bg); color:var(--btn-color); border:none; padding:10px 18px 11px;
  font-size:.7rem; font-weight:var(--fw-semibold); border-radius:var(--radius-md);
  cursor:pointer; letter-spacing:.4px; transition:background var(--transition-fast), box-shadow var(--transition-fast), transform .12s;
  line-height:1.05; display:inline-flex; align-items:center; gap:.4em;
}
.ms-btn:hover,.ms-btn:focus-visible { background:var(--btn-bg-hover); }
.ms-btn:active { transform:translateY(1px); }
.ms-btn.secondary { --btn-bg:var(--color-secondary); --btn-bg-hover:var(--color-secondary-hover); }
.ms-btn.danger { --btn-bg:var(--color-danger); --btn-bg-hover:var(--color-danger-hover); }
.ms-btn.neutral { --btn-bg:#697781; --btn-bg-hover:#56626b; }
.ms-btn.ghost { --btn-bg:var(--surface-inset); --btn-bg-hover:var(--surface-accent); --btn-color:var(--text-color); border:1px solid var(--border-color); }
.ms-panel-skin {
  background:var(--surface); border:1px solid var(--border-color);
  border-radius:var(--radius-lg); box-shadow:var(--shadow-1);
  padding:20px 22px 26px; animation:fadeIn .35s ease;
}

/* ------------------ Badges / Tags ------------------ */
.badge-success { background:var(--color-success); color:#fff; }
.badge-warning { background:var(--color-warning); color:var(--warning-fg,#fff); }
.badge-danger { background:var(--color-danger); color:#fff; }

/* ------------------ Lists / Info ------------------ */
.info-list { list-style:none; margin:0; padding:0; font-size:.75rem; }
.info-list > li { margin:6px 0; }
.nested-list { list-style:disc; margin:4px 0 4px 16px; padding:0; }

/* ------------------ Minor Utilities ------------------ */
.mt-1 { margin-top:4px; } .mt-2 { margin-top:8px; } .mt-3 { margin-top:14px; } .mt-4 { margin-top:22px; }
.mb-1 { margin-bottom:4px; } .mb-2 { margin-bottom:8px; } .mb-3 { margin-bottom:14px; } .mb-4 { margin-bottom:22px; }
.gap-2 { gap:8px; }
.full-row { grid-column:1 / -1; }
.d-flex { display:flex; } .flex-wrap { flex-wrap:wrap; } .justify-end { justify-content:flex-end; }
.justify-between { justify-content:space-between; } .items-center { align-items:center; } .w-100 { width:100%; }
.small { font-size:.6rem; }
.sr-only, .visually-hidden {
  position:absolute!important; width:1px!important; height:1px!important; padding:0!important;
  margin:-1px!important; overflow:hidden!important; clip:rect(0 0 0 0)!important; white-space:nowrap!important; border:0!important;
}

/* ------------------ Motion Reduction ------------------ */
@media (prefers-reduced-motion:reduce) {
  * { animation:none !important; transition:none !important; }
  .dashboard-card:hover { transform:none !important; }
}

/* ------------------ Dark Theme Hover Adjustments ------------------ */
:root[data-theme="dark"] .sidebar-menu a.active,
:root[data-theme="dark"] .sidebar-menu a:hover {
  background:linear-gradient(90deg, rgba(26,188,156,.28), rgba(26,188,156,.1));
}

/* ------------------ Print Adjustments ------------------ */
@media print {
  .sidebar, .main-header, .profile-actions, .qr-reader-box, .btn, .nav-fab { display:none !important; }
  body, .main-content, .section-panel { background:#fff; }
  .dashboard-card, .chart-card { box-shadow:none; }
}

/* End of stylesheet */