/* (Unchanged core styles from previous revision except
   - Removed overlay styles
   - Added .scan-status-banner styles and small helper classes)
*/
:root{
  --bg:#222d32;
  --bg-soft:#1a2226;
  --surface:#ffffff;
  --surface-alt:#f4f7fa;
  --surface-inset:#0f171b;
  --accent:#1abc9c;
  --accent-hover:#159a80;
  --danger:#e74c3c;
  --warning:#f39c12;
  --text:#ffffff;
  --text-soft:#b8c7ce;
  --radius:18px;
  --focus:0 0 0 3px rgba(26,188,156,.55);
  --shadow-1:0 4px 18px rgba(0,0,0,.25),0 2px 6px rgba(0,0,0,.18);
  font-family:'Lucida Sans','Lucida Grande','Lucida Sans Unicode',Verdana,sans-serif;
}

*{box-sizing:border-box;}
html,body{
  margin:0;
  background:
    radial-gradient(circle at 20% 20%, rgba(26,188,156,.20), transparent 55%),
    radial-gradient(circle at 80% 70%, rgba(52,152,219,.18), transparent 60%),
    var(--bg);
  min-height:100vh;
  color:var(--text);
  -webkit-font-smoothing:antialiased;
  line-height:1.42;
}

.topbar{
  background:var(--bg-soft);
  border-bottom:1px solid rgba(255,255,255,.08);
  padding:10px 16px;
  position:sticky;
  top:0;
  z-index:50;
  box-shadow:0 2px 6px rgba(0,0,0,.22);
}
.topbar-inner{
  display:flex;
  align-items:center;
  justify-content:space-between;
  max-width:1180px;
  margin:0 auto;
}
.portal-brand{
  font-size:1.15rem;
  margin:0;
  letter-spacing:.8px;
  font-weight:700;
  color:#fff;
}

.status-badge{
  background:var(--surface-inset);
  padding:6px 14px 7px;
  border-radius:999px;
  font-size:.62rem;
  letter-spacing:1.3px;
  text-transform:uppercase;
  font-weight:700;
  border:1px solid rgba(255,255,255,.15);
  display:inline-block;
}
.status-on{ background:linear-gradient(120deg,var(--accent),var(--accent-hover)); border:none; }
.status-success{ background:linear-gradient(120deg,#27ae60,#16904a); }
.status-error{ background:var(--danger); }
.status-off{ background:#666; }
.status-starting{ background:#3498db; }

.main-stage{
  max-width:1180px;
  margin:34px auto 60px;
  padding:0 20px;
  display:flex;
  justify-content:center;
}
.scan-card{
  background:rgba(255,255,255,.06);
  backdrop-filter:blur(6px);
  border:1px solid rgba(255,255,255,.12);
  padding:34px 34px 40px;
  border-radius:28px;
  width:100%;
  max-width:540px;
  box-shadow:var(--shadow-1);
  position:relative;
}
.scan-title{ margin:0 0 8px; font-size:1.9rem; letter-spacing:.6px; }
.scan-sub{ margin:0 0 26px; color:var(--text-soft); font-size:.9rem; letter-spacing:.4px; }

.camera-shell{ display:flex; flex-direction:column; align-items:center; gap:12px; }
.camera-container{
  position:relative;
  width:320px;
  height:320px;
  max-width:100%;
  background:#000;
  border-radius:32px;
  overflow:hidden;
  box-shadow:0 8px 28px -6px rgba(0,0,0,.55),0 3px 12px rgba(0,0,0,.35);
  border:2px solid rgba(255,255,255,.08);
}

#qrReader{ width:100%; height:100%; }
#qrReader video{
  object-fit:cover;
  width:100%!important;
  height:100%!important;
  border-radius:32px;
  filter:contrast(1.05) saturate(1.2);
}
#qrReader__dashboard{ display:none; }

.qr-guide{
  position:absolute;
  top:50%; left:50%;
  width:70%; height:70%;
  transform:translate(-50%,-50%);
  border:4px solid var(--accent);
  border-radius:22px;
  box-shadow:0 0 0 1px rgba(0,0,0,.4),0 0 16px -2px rgba(26,188,156,.75) inset;
  overflow:hidden;
  pointer-events:none;
}
.scan-line{
  position:absolute;
  top:0; left:0;
  width:100%; height:100%;
  background:linear-gradient(to bottom, rgba(26,188,156,0) 0%, rgba(26,188,156,.55) 48%, rgba(26,188,156,0) 100%);
  animation:scanMove 2.4s linear infinite;
  mix-blend-mode:screen;
  opacity:.55;
}
@keyframes scanMove {
  0%{ transform:translateY(-100%); }
  50%{ transform:translateY(0); }
  100%{ transform:translateY(100%); }
}

.camera-message{ color:#ffb347; font-size:.8rem; font-weight:600; text-align:center; }

.scan-info{
  margin-top:8px;
  text-align:center;
  min-height:24px;
  font-size:.75rem;
  letter-spacing:.4px;
  color:var(--text-soft);
}
.last-scan{
  background:rgba(255,255,255,.08);
  padding:6px 10px;
  border-radius:10px;
  display:inline-block;
}

/* NEW success/status banner */
.scan-status-banner{
  margin:14px auto 4px;
  background:linear-gradient(90deg,var(--accent),var(--accent-hover));
  padding:14px 18px 16px;
  border-radius:18px;
  width:100%;
  font-size:.85rem;
  font-weight:600;
  text-align:center;
  line-height:1.35;
  letter-spacing:.4px;
  box-shadow:0 6px 24px -8px rgba(0,0,0,.55),0 2px 10px rgba(0,0,0,.4);
  color:#fff;
  animation:bannerPop .45s cubic-bezier(.45,1.3,.55,1);
}
@keyframes bannerPop {
  0% { transform:translateY(18px) scale(.94); opacity:0; }
  100% { transform:translateY(0) scale(1); opacity:1; }
}
.scan-status-banner .code-small{
  display:inline-block;
  font-size:.62rem;
  opacity:.85;
  margin:4px 0 2px;
  letter-spacing:.6px;
}
.scan-status-banner .refresh-timer{
  display:block;
  font-size:.68rem;
  letter-spacing:.8px;
  margin-top:4px;
  opacity:.9;
  text-transform:uppercase;
}

.actions{ display:flex; justify-content:center; margin-top:18px; gap:10px; }

.btn{
  --btn-bg:var(--accent);
  --btn-bg-hover:var(--accent-hover);
  background:var(--btn-bg);
  border:none;
  color:#fff;
  font-weight:600;
  font-size:.8rem;
  letter-spacing:.5px;
  padding:11px 20px 12px;
  border-radius:14px;
  cursor:pointer;
  display:inline-flex;
  align-items:center;
  gap:.45em;
  transition:background .18s, transform .12s, box-shadow .18s;
  box-shadow:0 3px 10px rgba(0,0,0,.25);
}
.btn:hover,
.btn:focus-visible{ background:var(--btn-bg-hover); }
.btn:active{ transform:translateY(1px); }
.btn:disabled{ opacity:.55; cursor:not-allowed; }
.btn-ghost{
  --btn-bg:rgba(255,255,255,.12);
  --btn-bg-hover:rgba(255,255,255,.22);
  color:#fff;
  box-shadow:none;
  border:1px solid rgba(255,255,255,.2);
}
.btn-ghost:focus-visible{ box-shadow:0 0 0 3px rgba(26,188,156,.55); }
.small{ font-size:.68rem; padding:9px 16px; }

.site-footer{
  padding:30px 16px 50px;
  text-align:center;
  color:var(--text-soft);
  font-size:.65rem;
  letter-spacing:.5px;
}
.ft-text{ margin:0; }

:focus-visible{ outline:none; box-shadow:var(--focus); border-radius:10px; }

@media (max-width:600px){
  .scan-card{ padding:30px 24px 42px; border-radius:24px; }
  .scan-title{ font-size:1.65rem; }
  .camera-container{ width:280px; height:280px; border-radius:28px; }
  #qrReader video{ border-radius:28px; }
  .scan-status-banner{ border-radius:16px; font-size:.8rem; }
}

@media (prefers-reduced-motion:reduce){
  *, .scan-line{ animation:none!important; transition:none!important; }
}